<div class="p-grid">
    <div class="col-12">
        <div class="card">
            <h5> Listado de usuarios</h5>
            <p-table #dt [value]="usuarios" dataKey="id" [rows]="50" [loading]="loading"
                     [totalRecords]="totalRegistros"
                     [lazy]="true" (onLazyLoad)="getUsuariosLazy($event)"
                     [rowHover]="true"
                     [rowsPerPageOptions]="[50,100]"
                     styleClass="p-datatable-gridlines" [paginator]="true"
                     responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="min-width: 8rem">
                            <div class="flex justify-content-between align-items-center">
                                Id
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Nombre
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Apellido
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                CÃ³digo
                            </div>
                        </th>
                        <th style="min-width: 12rem">
                            <div class="flex justify-content-between align-items-center">
                                Programa
                            </div>
                        </th>
                        <th style="min-width: 12rem">

                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="caption">
                    @if (programaFlag) {
                        <input type="text" pInputText [(ngModel)]="value"
                               (input)="getUsuariosLazy(null,'estudiantesPorPrograma/' + value)"/>
                    }
                </ng-template>
                <ng-template pTemplate="body" let-usuario>
                    <tr>
                        <td>
                            {{ usuario.id }}
                        </td>
                        <td>
                            {{ usuario.nombre }}
                        </td>
                        <td>
                            {{ usuario.apellido }}
                        </td>
                        <td>
                            {{ usuario.codigo }}
                        </td>
                        <td>
                            {{ usuario.programaId }}
                        </td>
                        <td>
                            <div class="flex justify-content-center flex-wrap gap-3 mb-4">

                            </div>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="paginatorleft">
                    <div style="padding-top: 7px;margin-left: 15px;">Cantidad de
                        registros: {{ totalRegistros }}
                    </div>
                </ng-template>
                <ng-template pTemplate="paginatorright">
                    <button style="margin-right: 15px;" class="p-button-raised p-button-success"
                            type="button" pButton icon="pi pi-refresh" (click)="dt.reset()">
                    </button>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="8">Sin registros.</td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="loadingbody">
                    <tr>
                        <td colspan="8">Cargando usuarios. Un momento por favor.</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>

